---
import Chip from "@/components/Chip.astro"
import FigureContainer from "@/components/FigureContainer.astro"
import Ping from "@/components/Ping.astro"
import SectionContainer from "@/components/SectionContainer.astro"
import SocialLink from "@/components/SocialLink.astro"
import { getLocale, useTranslations } from "@/i18n"
import GitHubIcon from "@/icons/GitHub.astro"
import LinkedInIcon from "@/icons/LinkedIn.astro"

const locale = getLocale(Astro.currentLocale)
const t = useTranslations(locale)

interface Props {
  delay: string
  class?: string
}

const { delay, class: className } = Astro.props

const socialLinks = [
  {
    icon: GitHubIcon,
    label: "GitHub",
    href: "https://github.com/Rakioth",
  },
  {
    icon: LinkedInIcon,
    label: "LinkedIn",
    href: "https://linkedin.com/in/dmunozneyra",
  },
]
---

<SectionContainer delay={delay} class:list={[className]}>
  <FigureContainer class="group [&>img]:bg-accent">
    <img
      class="block group-hover:hidden"
      src="/me/open.webp"
      alt="Avatar Daniel Muñoz Neyra"
    />
    <img
      class="hidden group-hover:block"
      src="/me/close.webp"
      alt="Avatar Daniel Muñoz Neyra"
    />
  </FigureContainer>

  <h1 class="mt-2 text-2xl font-bold text-primary">Daniel Muñoz</h1>
  <p class="text-pretty text-secondary">{t("description")}</p>

  <footer class="mt-4 flex items-center justify-between gap-x-2">
    <Chip class="font-semibold">
      <Ping class="[&>div]:bg-lime-500 [&>div]:dark:bg-lime-400" />
      {t("hero.state")}
    </Chip>
    <div class="flex items-center justify-center gap-x-5">
      {
        socialLinks.map((socialLink) => (
          <SocialLink href={socialLink.href} label={socialLink.label}>
            <socialLink.icon />
          </SocialLink>
        ))
      }
    </div>
  </footer>
</SectionContainer>
